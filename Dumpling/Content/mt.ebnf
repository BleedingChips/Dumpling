^ := '\s+|/\*.*?\*/|//.*?\n'
Code := '@\{[.\n]*?\}@' : [3]
FloatNumber := '-?[0-9]+\.[0-9]+' : [0]
IntNumber := '-?[1-9][0-9]*' : [1]
String := '".*?[^\\]"|""' : [2]
Id := '[a-zA-Z_][a-zA-Z_0-9]*'

%%%

$ := <Statement>

<BaseConstValue> := IntNumber | FloatNumber | String : [4]
    := 'true' : [5]
    := 'false' : [6]
    := Id '(' [ <BaseConstValue> {',' <BaseConstValue> } ] ')' : [7]

<BaseConstValueList> := '{'[ <BaseConstValue> {',' <BaseConstValue> } ] '}' : [22]

<ArrayProperty> := '[' ']' : [8]
    := <ArrayProperty> '[' IntNumber ']' : [9]
    :=  : [10]

<TypeRequire> := Id [ '<' Id '>' ] : [20]

<DefineVariable> := <TypeRequire> Id <ArrayProperty> [ '=' ( <BaseConstValue> | <BaseConstValueList> ) ] ';' : [11]

<StructDefineVariable> := Id Id : [23]

<StructDesc> := 'struct' Id '{' { <StructDefineVariable> ';' | ';' } '}' ';' : [12]

<MateDateElement> := Id [ '=' <BaseConstValue> ] : [13]

<MateDate> := [ '[' [<MateDateElement> {',' <MateDateElement> } ] ']' ] : [14]

<PropertyDefine> := <MateDate> '{' { <PropertyDefine> } '}' : [15]
    := <MateDate> <DefineVariable> : [16]

<PropertyDefineList> := : [17]
    := <PropertyDefineList> <PropertyDefine> : [18]
    := <PropertyDefineList> <StructDesc> : [19]

<PropertyStatement> := 'property' '{' <PropertyDefineList> '}' ';' : [21]

<ImportStatement> := 'import' String 'as' Id ';' : [30]

<ReferencePath> := Id : [31]
    := <ReferencePath> '.' Id : [32]

<References> := [ '[' [ <ReferencePath> { ',' <ReferencePath> } ] ']' ] : [33]

<CodeStatement> := 'code' Id <References> Code ';' : [34]

<SnippetParemeter> := [ 'in' | 'out' ] Id Id : [36]

<SnippetParemeterList> := '(' [<SnippetParemeter> {',' <SnippetParemeter> } ] ')' : [37]

<SnippetStatement> := 'snippet' Id <References> <SnippetParemeterList> Code ';' : [38]

<UsingSnippetStatement> := 'using' 'snippet' <ReferencePath> 'as' Id ';' : [39]

<DefineStatement> := 'define' Id String ';' : [40]

<MaterialElementList> := : [17]
    := <MaterialElementList> ( <SnippetStatement> | <CodeStatement> | <DefineVariable> | <UsingSnippetStatement> | <DefineStatement> ) : [19]

<MaterialStatement> := <MateDate> 'material' String 'as' Id '{' <MaterialElementList> '}' ';' : [42]

<StatementElement> := <PropertyStatement> : [1]
    := : [3]
    := <StatementElement> <ImportStatement> : [43]
    := <StatementElement> <CodeStatement> : [43]
    := <StatementElement> <MaterialStatement> : [43]
    := <StatementElement> <SnippetStatement> : [43]
    := <StatementElement> ';' : [45]

<Statement> := <StatementElement> : [44]
